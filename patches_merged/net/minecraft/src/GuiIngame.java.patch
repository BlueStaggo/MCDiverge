--- a/net/minecraft/src/GuiIngame.java
+++ b/net/minecraft/src/GuiIngame.java
@@ -7,7 +7,6 @@
 
 import net.minecraft.client.Minecraft;
 
-import org.lwjgl.input.Keyboard;
 import org.lwjgl.opengl.GL11;
 import org.lwjgl.opengl.GL12;
 
@@ -56,11 +55,17 @@
 
         int i11 = this.mc.thePlayer.health;
         int i12 = this.mc.thePlayer.prevHealth;
+        float cf0 = this.mc.thePlayer.energy;
+        float cf1 = this.mc.thePlayer.mana;
+        boolean cz1 = this.mc.thePlayer.energyRegen;
+        boolean cz2 = this.mc.thePlayer.energyBoostTick > 0;
+        boolean cz3 = this.mc.thePlayer.showMana;
+        boolean cz4 = this.mc.thePlayer.creative;
         this.rand.setSeed((long)(this.updateCounter * 312871));
         int i13;
         int i14;
         int i15;
-        if(this.mc.playerController.shouldDrawHUD()) {
+        if(this.mc.playerController.shouldDrawHUD() && !cz4) {
             i13 = this.mc.thePlayer.getPlayerArmorValue();
 
             int i16;
@@ -69,15 +74,15 @@
                 if(i13 > 0) {
                     i16 = i6 / 2 + 91 - i14 * 8 - 9;
                     if(i14 * 2 + 1 < i13) {
-                        this.drawTexturedModalRect(i16, i15, 34, 9, 9, 9);
+                        this.drawTexturedModalRect(i16, i15 - 10, 34, 9, 9, 9);
                     }
 
                     if(i14 * 2 + 1 == i13) {
-                        this.drawTexturedModalRect(i16, i15, 25, 9, 9, 9);
+                        this.drawTexturedModalRect(i16, i15 - 10, 25, 9, 9, 9);
                     }
 
                     if(i14 * 2 + 1 > i13) {
-                        this.drawTexturedModalRect(i16, i15, 16, 9, 9, 9);
+                        this.drawTexturedModalRect(i16, i15 - 10, 16, 9, 9, 9);
                     }
                 }
 
@@ -109,17 +114,42 @@
                 if(i14 * 2 + 1 == i11) {
                     this.drawTexturedModalRect(i17, i15, 61, 0, 9, 9);
                 }
+
+                i15 = i7 - 32;
+                if (cz1) {
+                    i15 += this.rand.nextInt(2);
+                }
+                i16 = i6 / 2 + 91 - i14 * 8 - 9;
+
+                this.drawTexturedModalRect(i16, i15, 34 + (cz2 ? 9 : 0), 18, 9, 9);
+                int ci3 = MathHelper.floor_float(MathHelper.clamp((i14 * 2 + 2 - cf0) * 9, 0, 9));
+                this.drawTexturedModalRect(i16 + ci3, i15, 52 + ci3, 18, 9, 9);
+
+                if (cz3) {
+                    i15 = i7 - 42;
+                    i16 = i6 / 2 - 91 + i14 * 8;
+                    this.drawTexturedModalRect(i16, i15, 16, 27, 9, 9);
+                    int ci5 = MathHelper.floor_float(MathHelper.clamp((cf1 - (i14 * 2 + 1)) * 9, 0, 9));
+                    this.drawTexturedModalRect(i16, i15, 25, 27, ci5, 9);
+                }
             }
 
             if(this.mc.thePlayer.isInsideOfMaterial(Material.water)) {
+                if (cz3) {
+                    i7 += 10;
+                }
+                if (cz4) {
+                    i7 += 10;
+                }
+
                 i14 = (int)Math.ceil((double)(this.mc.thePlayer.air - 2) * 10.0D / 300.0D);
                 i15 = (int)Math.ceil((double)this.mc.thePlayer.air * 10.0D / 300.0D) - i14;
 
                 for(i16 = 0; i16 < i14 + i15; ++i16) {
                     if(i16 < i14) {
-                        this.drawTexturedModalRect(i6 / 2 - 91 + i16 * 8, i7 - 32 - 9, 16, 18, 9, 9);
+                        this.drawTexturedModalRect(i6 / 2 - 91 + i16 * 8, i7 - 42, 16, 18, 9, 9);
                     } else {
-                        this.drawTexturedModalRect(i6 / 2 - 91 + i16 * 8, i7 - 32 - 9, 25, 18, 9, 9);
+                        this.drawTexturedModalRect(i6 / 2 - 91 + i16 * 8, i7 - 42, 25, 18, 9, 9);
                     }
                 }
             }
@@ -141,11 +171,14 @@
         RenderHelper.disableStandardItemLighting();
         GL11.glDisable(GL12.GL_RESCALE_NORMAL);
         String string21;
-        if(Keyboard.isKeyDown(Keyboard.KEY_F3)) {
-            fontRenderer8.drawStringWithShadow("Minecraft Alpha v1.1.2_01 (" + this.mc.debug + ")", 2, 2, 0xFFFFFF);
-            fontRenderer8.drawStringWithShadow(this.mc.debugInfoRenders(), 2, 12, 0xFFFFFF);
-            fontRenderer8.drawStringWithShadow(this.mc.getEntityDebug(), 2, 22, 0xFFFFFF);
-            fontRenderer8.drawStringWithShadow(this.mc.debugInfoEntities(), 2, 32, 0xFFFFFF);
+        if(this.mc.options.debugMenu) {
+            fontRenderer8.drawStringWithShadow(Minecraft.version + " (" + this.mc.debug + ")", 2, 2, 0xFFFFFF);
+            fontRenderer8.drawStringWithShadow(this.mc.debugInfoLocation(), 2, 12, 0xFFFFFF);
+            fontRenderer8.drawStringWithShadow(this.mc.debugInfoRenders(), 2, 22, 0xFFFFFF);
+            fontRenderer8.drawStringWithShadow(this.mc.getEntityDebug(), 2, 32, 0xFFFFFF);
+            fontRenderer8.drawStringWithShadow(this.mc.debugInfoEntities(), 2, 42, 0xFFFFFF);
+            fontRenderer8.drawStringWithShadow(this.mc.debugInfoSeed(), 2, 52, 0xFFFFFF);
+            fontRenderer8.drawStringWithShadow(this.mc.debugInfoWorld(), 2, 62, 0xFFFFFF);
             long j22 = Runtime.getRuntime().maxMemory();
             long j27 = Runtime.getRuntime().totalMemory();
             long j28 = Runtime.getRuntime().freeMemory();
@@ -155,7 +188,7 @@
             string21 = "Allocated memory: " + j27 * 100L / j22 + "% (" + j27 / 1024L / 1024L + "MB)";
             this.drawString(fontRenderer8, string21, i6 - fontRenderer8.getStringWidth(string21) - 2, 12, 14737632);
         } else {
-            fontRenderer8.drawStringWithShadow("Minecraft Alpha v1.1.2_01", 2, 2, 0xFFFFFF);
+            fontRenderer8.drawStringWithShadow(Minecraft.version, 2, 2, 0xFFFFFF);
         }
 
         if(this.recordPlayingUpFor > 0) {
